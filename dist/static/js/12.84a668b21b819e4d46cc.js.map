{"version":3,"sources":["webpack:///static/js/12.84a668b21b819e4d46cc.js","webpack:///./src/view/factory/list.vue","webpack:///./src/api/factory.js","webpack:///src/view/factory/list.vue","webpack:///./src/view/factory/list.vue?f38b"],"names":["webpackJsonp","8ONk","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_7_3_vue_loader_lib_selector_type_script_index_0_list_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_38f26ca0_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_7_3_vue_loader_lib_selector_type_template_index_0_list_vue__","normalizeComponent","Component","9Pbq","factoryList","data","__WEBPACK_IMPORTED_MODULE_0__common_js_fetch__","url","page","method","addFactory","modifyFactory","queryFactory","id","deleteFactory","OCsC","__WEBPACK_IMPORTED_MODULE_0__api_factory__","__WEBPACK_IMPORTED_MODULE_1__api_config__","__WEBPACK_IMPORTED_MODULE_2_element_ui__","n","list","listLoading","total","pagesize","created","this","getFactory","methods","_this","pageSize","then","response","farmData","code","parseInt","document","body","scrollTop","documentElement","msg","addFarm","$router","push","path","editAxm","del","_this2","$confirm","confirmButtonText","cancelButtonText","type","axmData","handleCurrentChange","currentPage","Qrak","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","className","on","click","$event","staticStyle","margin-top","directives","name","rawName","expression","modifiers","element-loading-text","border","fit","highlight-current-row","align","label","scopedSlots","_u","key","fn","scope","_s","row","factoryCode","factoryName","factoryOwner","factoryAddress","size","securityCode","justify","background","layout","current-page","page-size","current-change","staticRenderFns","esExports"],"mappings":"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","file":"static/js/12.84a668b21b819e4d46cc.js","sourcesContent":["webpackJsonp([12],{\n\n/***/ \"8ONk\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_7_3_vue_loader_lib_selector_type_script_index_0_list_vue__ = __webpack_require__(\"OCsC\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_38f26ca0_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_7_3_vue_loader_lib_selector_type_template_index_0_list_vue__ = __webpack_require__(\"Qrak\");\nvar normalizeComponent = __webpack_require__(\"Mz/3\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_7_3_vue_loader_lib_selector_type_script_index_0_list_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_38f26ca0_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_7_3_vue_loader_lib_selector_type_template_index_0_list_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"9Pbq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = factoryList;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = addFactory;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = modifyFactory;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = queryFactory;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = deleteFactory;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_js_fetch__ = __webpack_require__(\"BXx+\");\n\n\n/**\n * 工厂列表\n * @param {*} query\n */\nfunction factoryList(data) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__common_js_fetch__[\"a\" /* default */])({\n    url: '/manage/factory/listFactories?page=' + data.page + '&pageSize=20',\n    method: 'post',\n    data: data\n  });\n}\n\n/**\n * 添加\n * @param {*} data\n */\nfunction addFactory(data) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__common_js_fetch__[\"a\" /* default */])({\n    url: '/manage/factory/addFactory',\n    method: 'post',\n    data: data\n  });\n}\n\n/**\n * 修改\n * @param {*} data\n */\nfunction modifyFactory(data) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__common_js_fetch__[\"a\" /* default */])({\n    url: '/manage/factory/modifyFactory',\n    method: 'post',\n    data: data\n  });\n}\n\n/**\n * 查询单个工厂信息\n * @param {*} data\n */\nfunction queryFactory(data) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__common_js_fetch__[\"a\" /* default */])({\n    url: '/manage/factory/queryFactory?id=' + data.id,\n    method: 'post',\n    data: data\n  });\n}\n\n/**\n * 删除\n * @param {*} data\n */\nfunction deleteFactory(data) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__common_js_fetch__[\"a\" /* default */])({\n    url: '/manage/factory/deleteFactory',\n    method: 'post',\n    data: data\n  });\n}\n\n/***/ }),\n\n/***/ \"OCsC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api_factory__ = __webpack_require__(\"9Pbq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_config__ = __webpack_require__(\"T452\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_element_ui__ = __webpack_require__(\"Suey\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_element_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_element_ui__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      list: [],\n      listLoading: true,\n      page: 1,\n      total: 0, // table数据总条数\n      pagesize: 20\n    };\n  },\n  created: function created() {\n    this.getFactory();\n  },\n\n  methods: {\n    getFactory: function getFactory() {\n      var _this = this;\n\n      this.listLoading = true;\n      var data = {\n        page: this.page,\n        pageSize: this.pagesize\n      };\n      Object(__WEBPACK_IMPORTED_MODULE_0__api_factory__[\"c\" /* factoryList */])(data).then(function (response) {\n        var farmData = response.data;\n        if (farmData.code === __WEBPACK_IMPORTED_MODULE_1__api_config__[\"b\" /* ERR_OK */]) {\n          _this.list = farmData.list;\n          _this.listLoading = false;\n          _this.total = parseInt(farmData.total);\n          document.body.scrollTop = 0;\n          // 兼容\n          document.documentElement.scrollTop = 0;\n        } else {\n          Object(__WEBPACK_IMPORTED_MODULE_2_element_ui__[\"Message\"])(farmData.msg);\n        }\n      });\n    },\n    addFarm: function addFarm() {\n      this.$router.push({\n        path: '/axm/factory/add'\n      });\n    },\n    editAxm: function editAxm(id, code) {\n      this.$router.push({\n        path: '/axm/factory/edit/' + id\n      });\n    },\n    del: function del(id) {\n      var _this2 = this;\n\n      this.$confirm('此操作将永久删除信息, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        var data = {\n          id: id\n        };\n        Object(__WEBPACK_IMPORTED_MODULE_0__api_factory__[\"b\" /* deleteFactory */])(data).then(function (response) {\n          var axmData = response.data;\n          if (axmData.code === __WEBPACK_IMPORTED_MODULE_1__api_config__[\"b\" /* ERR_OK */]) {\n            _this2.getFactory();\n          } else {\n            Object(__WEBPACK_IMPORTED_MODULE_2_element_ui__[\"Message\"])(axmData.msg);\n          }\n        });\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(currentPage) {\n      this.page = currentPage;\n      this.getFactory();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"Qrak\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_vm._m(0),_vm._v(\" \"),_c('div',{attrs:{\"className\":'sub-navbar'}},[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addFarm()}}},[_vm._v(\"添加\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"routes-main-container\",staticStyle:{\"margin-top\":\"20px\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.listLoading),expression:\"listLoading\",modifiers:{\"body\":true}}],attrs:{\"data\":_vm.list,\"element-loading-text\":\"Loading\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"ID\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                  \"+_vm._s(scope.row.id)+\"\\n              \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"工厂编码\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.factoryCode))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"工厂名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.factoryName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"工厂厂长\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.factoryOwner))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"工厂地址\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.factoryAddress))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.editAxm(scope.row.id,scope.row.securityCode)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.del(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"30px\"},attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"current-page\":_vm.page,\"page-size\":_vm.pagesize,\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ibox-title\"},[_c('h3',[_vm._v(\"工厂列表\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/12.84a668b21b819e4d46cc.js","var normalizeComponent = require(\"!../../../node_modules/.13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.3@vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.3@vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-38f26ca0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.3@vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/factory/list.vue\n// module id = 8ONk\n// module chunks = 12","import fetch from '@/common/js/fetch'\n\n/**\n * 工厂列表\n * @param {*} query\n */\nexport function factoryList (data) {\n  return fetch({\n    url: `/manage/factory/listFactories?page=${data.page}&pageSize=20`,\n    method: 'post',\n    data: data\n  })\n}\n\n/**\n * 添加\n * @param {*} data\n */\nexport function addFactory (data) {\n  return fetch({\n    url: `/manage/factory/addFactory`,\n    method: 'post',\n    data: data\n  })\n}\n\n/**\n * 修改\n * @param {*} data\n */\nexport function modifyFactory (data) {\n  return fetch({\n    url: `/manage/factory/modifyFactory`,\n    method: 'post',\n    data: data\n  })\n}\n\n/**\n * 查询单个工厂信息\n * @param {*} data\n */\nexport function queryFactory (data) {\n  return fetch({\n    url: `/manage/factory/queryFactory?id=${data.id}`,\n    method: 'post',\n    data: data\n  })\n}\n\n/**\n * 删除\n * @param {*} data\n */\nexport function deleteFactory (data) {\n  return fetch({\n    url: `/manage/factory/deleteFactory`,\n    method: 'post',\n    data: data\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/factory.js","<template>\n\t<div class=\"app-container\">\n    <div class=\"ibox-title\">\n        <h3>工厂列表</h3>\n    </div>\n\n    <div :className=\"'sub-navbar'\">\n        <div>\n          <el-button type=\"primary\" @click=\"addFarm()\">添加</el-button>\n        </div>\n    </div>\n    <div class=\"routes-main-container\" style=\"margin-top:20px\">\n      <el-table :data=\"list\" v-loading.body=\"listLoading\" element-loading-text=\"Loading\" border fit\n                      highlight-current-row>\n          <el-table-column align=\"center\" label='ID'>\n              <template slot-scope=\"scope\">\n                  {{scope.row.id}}\n              </template>\n          </el-table-column>\n\n          <el-table-column label=\"工厂编码\" align=\"center\">\n              <template slot-scope=\"scope\">\n                  <span>{{scope.row.factoryCode}}</span>\n              </template>\n          </el-table-column>\n\n          <el-table-column label=\"工厂名称\" align=\"center\">\n              <template slot-scope=\"scope\">\n                  <span>{{scope.row.factoryName}}</span>\n              </template>\n          </el-table-column>\n\n          <el-table-column label=\"工厂厂长\" align=\"center\">\n              <template slot-scope=\"scope\">\n                  <span>{{scope.row.factoryOwner}}</span>\n              </template>\n          </el-table-column>\n\n          <el-table-column label=\"工厂地址\" align=\"center\">\n              <template slot-scope=\"scope\">\n                  <span>{{scope.row.factoryAddress}}</span>\n              </template>\n          </el-table-column>\n\n          <el-table-column label=\"操作\">\n              <template slot-scope=\"scope\">\n                  <el-button size=\"mini\" @click=\"editAxm(scope.row.id,scope.row.securityCode)\">编辑</el-button>\n                  <el-button size=\"mini\" type=\"danger\" @click=\"del(scope.row.id)\">删除</el-button>\n              </template>\n          </el-table-column>\n      </el-table>\n      <el-row type=\"flex\" justify=\"center\" style=\"margin-top: 30px;\">\n          <el-pagination\n          background\n          layout=\"prev, pager, next\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"page\"\n          :page-size=\"pagesize\"\n          :total=\"total\">\n          </el-pagination>\n      </el-row>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { factoryList, deleteFactory } from '@/api/factory'\nimport { ERR_OK } from '@/api/config'\nimport { Message } from 'element-ui'\n\nexport default {\n  data () {\n    return {\n      list: [],\n      listLoading: true,\n      page: 1,\n      total: 0, // table数据总条数\n      pagesize: 20\n    }\n  },\n  created () {\n    this.getFactory()\n  },\n  methods: {\n    getFactory () {\n      this.listLoading = true\n      let data = {\n        page: this.page,\n        pageSize: this.pagesize\n      }\n      factoryList(data).then(response => {\n        let farmData = response.data\n        if (farmData.code === ERR_OK) {\n          this.list = farmData.list\n          this.listLoading = false\n          this.total = parseInt(farmData.total)\n          document.body.scrollTop = 0\n          // 兼容\n          document.documentElement.scrollTop = 0\n        } else {\n          Message(farmData.msg)\n        }\n      })\n    },\n\n    addFarm () {\n      this.$router.push({\n        path: `/axm/factory/add`\n      })\n    },\n    editAxm (id, code) {\n      this.$router.push({\n        path: `/axm/factory/edit/${id}`\n      })\n    },\n    del (id) {\n      this.$confirm('此操作将永久删除信息, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        let data = {\n          id: id\n        }\n        deleteFactory(data).then(response => {\n          let axmData = response.data\n          if (axmData.code === ERR_OK) {\n            this.getFactory()\n          } else {\n            Message(axmData.msg)\n          }\n        })\n      })\n    },\n    handleCurrentChange (currentPage) {\n      this.page = currentPage\n      this.getFactory()\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/view/factory/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_vm._m(0),_vm._v(\" \"),_c('div',{attrs:{\"className\":'sub-navbar'}},[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addFarm()}}},[_vm._v(\"添加\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"routes-main-container\",staticStyle:{\"margin-top\":\"20px\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.listLoading),expression:\"listLoading\",modifiers:{\"body\":true}}],attrs:{\"data\":_vm.list,\"element-loading-text\":\"Loading\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"ID\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                  \"+_vm._s(scope.row.id)+\"\\n              \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"工厂编码\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.factoryCode))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"工厂名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.factoryName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"工厂厂长\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.factoryOwner))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"工厂地址\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.factoryAddress))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.editAxm(scope.row.id,scope.row.securityCode)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.del(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"30px\"},attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"current-page\":_vm.page,\"page-size\":_vm.pagesize,\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ibox-title\"},[_c('h3',[_vm._v(\"工厂列表\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-38f26ca0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/view/factory/list.vue\n// module id = Qrak\n// module chunks = 12"],"sourceRoot":""}