{"version":3,"sources":["webpack:///static/js/13.08941a7a9d7155819f39.js","webpack:///src/view/factory/add.vue","webpack:///./src/api/factory.js","webpack:///./src/view/factory/add.vue?8e3b","webpack:///./src/view/factory/add.vue"],"names":["webpackJsonp","4Sx4","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_2__api_factory__","__WEBPACK_IMPORTED_MODULE_3__api_config__","__WEBPACK_IMPORTED_MODULE_4_element_ui__","data","rules","factoryCode","required","message","trigger","factoryName","factoryOwner","factoryAddress","sensoryIndex","manageSysAuth","ruleForm","xAxis","yAxis","image","file","created","methods","onSubmit","formName","_this","this","$refs","validate","valid","console","log","add","queryFactory","_queryFactory","apply","arguments","toString","_this2","a","mark","_callee","res","wrap","_context","prev","next","sent","code","stop","_this3","_callee2","fileForm","_context2","FormData","append","Object","$router","push","path","abrupt","msg","resetForm","resetFields","changeHandle","e","target","files","9Pbq","factoryList","__WEBPACK_IMPORTED_MODULE_0__common_js_fetch__","url","page","method","addFactory","modifyFactory","id","deleteFactory","drhg","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","label","prop","name","type","placeholder","value","callback","$$v","$set","expression","_v","on","change","span","offset","click","$event","staticRenderFns","esExports","xOrV","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_7_3_vue_loader_lib_selector_type_script_index_0_add_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_d01e762e_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_7_3_vue_loader_lib_selector_type_template_index_0_add_vue__","normalizeComponent","Component"],"mappings":"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","file":"static/js/13.08941a7a9d7155819f39.js","sourcesContent":["webpackJsonp([13],{\n\n/***/ \"4Sx4\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(\"Hmpo\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(\"vYJH\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_factory__ = __webpack_require__(\"9Pbq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_config__ = __webpack_require__(\"T452\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_element_ui__ = __webpack_require__(\"Suey\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_element_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_element_ui__);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      rules: {\n        factoryCode: [{\n          required: true,\n          message: '请输入工厂编码',\n          trigger: 'blur'\n        }],\n        factoryName: [{\n          required: true,\n          message: '请输入工厂名称',\n          trigger: 'blur'\n        }],\n        factoryOwner: [{\n          required: true,\n          message: '请输入工厂厂长',\n          trigger: 'blur'\n        }],\n        factoryAddress: [{\n          required: true,\n          message: '请输入工厂地址',\n          trigger: 'blur'\n        }],\n        sensoryIndex: [{\n          required: true,\n          message: '请输入感官指标',\n          trigger: 'blur'\n        }],\n        manageSysAuth: [{\n          required: true,\n          message: '请输入管理体系认证',\n          trigger: 'blur'\n        }]\n      },\n      ruleForm: {\n        factoryCode: '',\n        factoryName: '',\n        factoryOwner: '',\n        factoryAddress: '',\n        sensoryIndex: '',\n        manageSysAuth: '',\n        xAxis: '',\n        yAxis: '',\n        image: ''\n      },\n      file: ''\n    };\n  },\n  created: function created() {},\n\n  methods: {\n    // 修改\n    onSubmit: function onSubmit(formName) {\n      var _this = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this.add();\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    queryFactory: function (_queryFactory) {\n      function queryFactory() {\n        return _queryFactory.apply(this, arguments);\n      }\n\n      queryFactory.toString = function () {\n        return _queryFactory.toString();\n      };\n\n      return queryFactory;\n    }(function () {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee() {\n        var res;\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return queryFactory(_this2.ruleForm);\n\n              case 2:\n                res = _context.sent;\n\n                if (res.data.code === __WEBPACK_IMPORTED_MODULE_3__api_config__[\"b\" /* ERR_OK */]) {\n                  _this2.ruleForm = res.data;\n                }\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2);\n      }))();\n    }),\n    add: function add() {\n      var _this3 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee2() {\n        var fileForm, res;\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                fileForm = new FormData();\n\n                fileForm.append('factoryCode', _this3.ruleForm.factoryCode);\n                fileForm.append('factoryName', _this3.ruleForm.factoryName);\n                fileForm.append('factoryOwner', _this3.ruleForm.factoryOwner);\n                fileForm.append('factoryAddress', _this3.ruleForm.factoryAddress);\n                fileForm.append('sensoryIndex', _this3.ruleForm.sensoryIndex);\n                fileForm.append('manageSysAuth', _this3.ruleForm.manageSysAuth);\n                fileForm.append('xAxis', _this3.ruleForm.xAxis);\n                fileForm.append('yAxis', _this3.ruleForm.yAxis);\n                fileForm.append('file', _this3.file);\n\n                _context2.next = 12;\n                return Object(__WEBPACK_IMPORTED_MODULE_2__api_factory__[\"a\" /* addFactory */])(fileForm);\n\n              case 12:\n                res = _context2.sent;\n\n                console.log(res);\n\n                if (!(res.data.code === __WEBPACK_IMPORTED_MODULE_3__api_config__[\"b\" /* ERR_OK */])) {\n                  _context2.next = 17;\n                  break;\n                }\n\n                _this3.$router.push({\n                  path: '/axm/factory/list'\n                });\n                return _context2.abrupt('return', false);\n\n              case 17:\n                Object(__WEBPACK_IMPORTED_MODULE_4_element_ui__[\"Message\"])(res.data.msg);\n\n              case 18:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this3);\n      }))();\n    },\n\n    // 重置\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    changeHandle: function changeHandle(e) {\n      this.file = e.target.files[0];\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"9Pbq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = factoryList;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = addFactory;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = modifyFactory;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = queryFactory;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = deleteFactory;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_js_fetch__ = __webpack_require__(\"BXx+\");\n\n\n/**\n * 工厂列表\n * @param {*} query\n */\nfunction factoryList(data) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__common_js_fetch__[\"a\" /* default */])({\n    url: '/manage/factory/listFactories?page=' + data.page + '&pageSize=20',\n    method: 'post',\n    data: data\n  });\n}\n\n/**\n * 添加\n * @param {*} data\n */\nfunction addFactory(data) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__common_js_fetch__[\"a\" /* default */])({\n    url: '/manage/factory/addFactory',\n    method: 'post',\n    data: data\n  });\n}\n\n/**\n * 修改\n * @param {*} data\n */\nfunction modifyFactory(data) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__common_js_fetch__[\"a\" /* default */])({\n    url: '/manage/factory/modifyFactory',\n    method: 'post',\n    data: data\n  });\n}\n\n/**\n * 查询单个工厂信息\n * @param {*} data\n */\nfunction queryFactory(data) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__common_js_fetch__[\"a\" /* default */])({\n    url: '/manage/factory/queryFactory?id=' + data.id,\n    method: 'post',\n    data: data\n  });\n}\n\n/**\n * 删除\n * @param {*} data\n */\nfunction deleteFactory(data) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__common_js_fetch__[\"a\" /* default */])({\n    url: '/manage/factory/deleteFactory',\n    method: 'post',\n    data: data\n  });\n}\n\n/***/ }),\n\n/***/ \"drhg\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"工厂编码：\",\"prop\":\"factoryCode\"}},[_c('el-input',{attrs:{\"name\":\"factoryCode\",\"type\":\"text\",\"placeholder\":\"工厂编码\"},model:{value:(_vm.ruleForm.factoryCode),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"factoryCode\", $$v)},expression:\"ruleForm.factoryCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"工厂名称：\",\"prop\":\"factoryName\"}},[_c('el-input',{attrs:{\"name\":\"factoryName\",\"type\":\"text\",\"placeholder\":\"工厂名称\"},model:{value:(_vm.ruleForm.factoryName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"factoryName\", $$v)},expression:\"ruleForm.factoryName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"工厂厂长：\",\"prop\":\"factoryOwner\"}},[_c('el-input',{attrs:{\"name\":\"factoryOwner\",\"type\":\"text\",\"placeholder\":\"工厂厂长\"},model:{value:(_vm.ruleForm.factoryOwner),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"factoryOwner\", $$v)},expression:\"ruleForm.factoryOwner\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"工厂地址：\",\"prop\":\"factoryAddress\"}},[_c('el-input',{attrs:{\"name\":\"factoryAddress\",\"type\":\"text\",\"placeholder\":\"工厂地址\"},model:{value:(_vm.ruleForm.factoryAddress),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"factoryAddress\", $$v)},expression:\"ruleForm.factoryAddress\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"感官指标：\",\"prop\":\"sensoryIndex\"}},[_c('el-input',{attrs:{\"name\":\"sensoryIndex\",\"type\":\"text\",\"placeholder\":\"感官指标\"},model:{value:(_vm.ruleForm.sensoryIndex),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"sensoryIndex\", $$v)},expression:\"ruleForm.sensoryIndex\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"管理体系认证：\",\"prop\":\"manageSysAuth\"}},[_c('el-input',{attrs:{\"name\":\"manageSysAuth\",\"type\":\"text\",\"placeholder\":\"管理体系认证\"},model:{value:(_vm.ruleForm.manageSysAuth),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"manageSysAuth\", $$v)},expression:\"ruleForm.manageSysAuth\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"图片文件：\",\"prop\":\"file\"}},[_c('input',{ref:\"imgFile\",attrs:{\"type\":\"file\",\"id\":\"imgFile\"},on:{\"change\":_vm.changeHandle}})]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"坐标：\"}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"X轴：\"}},[_c('el-input',{attrs:{\"name\":\"xAxis\",\"type\":\"number\",\"placeholder\":\"X轴\"},model:{value:(_vm.ruleForm.xAxis),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"xAxis\", $$v)},expression:\"ruleForm.xAxis\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6,\"offset\":2}},[_c('el-form-item',{attrs:{\"label\":\"Y轴：\"}},[_c('el-input',{attrs:{\"name\":\"yAxis\",\"type\":\"number\",\"placeholder\":\"Y轴\"},model:{value:(_vm.ruleForm.yAxis),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"yAxis\", $$v)},expression:\"ruleForm.yAxis\"}})],1)],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.onSubmit('ruleForm')}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"xOrV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_7_3_vue_loader_lib_selector_type_script_index_0_add_vue__ = __webpack_require__(\"4Sx4\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_d01e762e_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_7_3_vue_loader_lib_selector_type_template_index_0_add_vue__ = __webpack_require__(\"drhg\");\nvar normalizeComponent = __webpack_require__(\"Mz/3\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_7_3_vue_loader_lib_selector_type_script_index_0_add_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_d01e762e_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_7_3_vue_loader_lib_selector_type_template_index_0_add_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/13.08941a7a9d7155819f39.js","<template>\n  <div class=\"app-container\">\n    <el-form ref=\"ruleForm\" :model=\"ruleForm\" :rules=\"rules\" label-width=\"120px\">\n      <el-form-item label=\"工厂编码：\" prop=\"factoryCode\">\n        <el-input name=\"factoryCode\" type=\"text\" v-model=\"ruleForm.factoryCode\" placeholder=\"工厂编码\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"工厂名称：\" prop=\"factoryName\">\n        <el-input name=\"factoryName\" type=\"text\" v-model=\"ruleForm.factoryName\" placeholder=\"工厂名称\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"工厂厂长：\" prop=\"factoryOwner\">\n        <el-input name=\"factoryOwner\" type=\"text\" v-model=\"ruleForm.factoryOwner\" placeholder=\"工厂厂长\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"工厂地址：\" prop=\"factoryAddress\">\n        <el-input name=\"factoryAddress\" type=\"text\" v-model=\"ruleForm.factoryAddress\" placeholder=\"工厂地址\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"感官指标：\" prop=\"sensoryIndex\">\n        <el-input name=\"sensoryIndex\" type=\"text\" v-model=\"ruleForm.sensoryIndex\" placeholder=\"感官指标\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"管理体系认证：\" prop=\"manageSysAuth\">\n        <el-input name=\"manageSysAuth\" type=\"text\" v-model=\"ruleForm.manageSysAuth\" placeholder=\"管理体系认证\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"图片文件：\" prop=\"file\">\n        <input type=\"file\" ref=\"imgFile\" id=\"imgFile\" @change=\"changeHandle\">\n      </el-form-item>\n      <el-form-item label=\"坐标：\">\n        <el-col :span=\"6\">\n          <el-form-item label=\"X轴：\">\n            <el-input name=\"xAxis\" type=\"number\" v-model=\"ruleForm.xAxis\" placeholder=\"X轴\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"6\" :offset=\"2\">\n          <el-form-item label=\"Y轴：\">\n            <el-input name=\"yAxis\" type=\"number\" v-model=\"ruleForm.yAxis\" placeholder=\"Y轴\"></el-input>\n          </el-form-item>\n        </el-col>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"onSubmit('ruleForm')\">保存</el-button>\n        <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { addFactory } from '@/api/factory'\nimport { ERR_OK } from '@/api/config'\nimport { Message } from 'element-ui'\n\nexport default {\n  data () {\n    return {\n      rules: {\n        factoryCode: [{\n          required: true,\n          message: '请输入工厂编码',\n          trigger: 'blur'\n        }],\n        factoryName: [{\n          required: true,\n          message: '请输入工厂名称',\n          trigger: 'blur'\n        }],\n        factoryOwner: [{\n          required: true,\n          message: '请输入工厂厂长',\n          trigger: 'blur'\n        }],\n        factoryAddress: [{\n          required: true,\n          message: '请输入工厂地址',\n          trigger: 'blur'\n        }],\n        sensoryIndex: [{\n          required: true,\n          message: '请输入感官指标',\n          trigger: 'blur'\n        }],\n        manageSysAuth: [{\n          required: true,\n          message: '请输入管理体系认证',\n          trigger: 'blur'\n        }]\n      },\n      ruleForm: {\n        factoryCode: '',\n        factoryName: '',\n        factoryOwner: '',\n        factoryAddress: '',\n        sensoryIndex: '',\n        manageSysAuth: '',\n        xAxis: '',\n        yAxis: '',\n        image: ''\n      },\n      file: ''\n    }\n  },\n  created () {\n  },\n  methods: {\n    // 修改\n    onSubmit (formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          this.add()\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    },\n    async  queryFactory () {\n      let res = await queryFactory(this.ruleForm)\n      if (res.data.code === ERR_OK) {\n        this.ruleForm = res.data\n      }\n    },\n    async add () {\n      let fileForm = new FormData()\n      fileForm.append('factoryCode', this.ruleForm.factoryCode)\n      fileForm.append('factoryName', this.ruleForm.factoryName)\n      fileForm.append('factoryOwner', this.ruleForm.factoryOwner)\n      fileForm.append('factoryAddress', this.ruleForm.factoryAddress)\n      fileForm.append('sensoryIndex', this.ruleForm.sensoryIndex)\n      fileForm.append('manageSysAuth', this.ruleForm.manageSysAuth)\n      fileForm.append('xAxis', this.ruleForm.xAxis)\n      fileForm.append('yAxis', this.ruleForm.yAxis)\n      fileForm.append('file', this.file)\n\n      let res = await addFactory(fileForm)\n      console.log(res)\n      if (res.data.code === ERR_OK) {\n        this.$router.push({\n          path: '/axm/factory/list'\n        })\n        return false\n      }\n      Message(res.data.msg)\n    },\n    // 重置\n    resetForm (formName) {\n      this.$refs[formName].resetFields()\n    },\n    changeHandle (e) {\n      this.file = e.target.files[0]\n    }\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/view/factory/add.vue","import fetch from '@/common/js/fetch'\n\n/**\n * 工厂列表\n * @param {*} query\n */\nexport function factoryList (data) {\n  return fetch({\n    url: `/manage/factory/listFactories?page=${data.page}&pageSize=20`,\n    method: 'post',\n    data: data\n  })\n}\n\n/**\n * 添加\n * @param {*} data\n */\nexport function addFactory (data) {\n  return fetch({\n    url: `/manage/factory/addFactory`,\n    method: 'post',\n    data: data\n  })\n}\n\n/**\n * 修改\n * @param {*} data\n */\nexport function modifyFactory (data) {\n  return fetch({\n    url: `/manage/factory/modifyFactory`,\n    method: 'post',\n    data: data\n  })\n}\n\n/**\n * 查询单个工厂信息\n * @param {*} data\n */\nexport function queryFactory (data) {\n  return fetch({\n    url: `/manage/factory/queryFactory?id=${data.id}`,\n    method: 'post',\n    data: data\n  })\n}\n\n/**\n * 删除\n * @param {*} data\n */\nexport function deleteFactory (data) {\n  return fetch({\n    url: `/manage/factory/deleteFactory`,\n    method: 'post',\n    data: data\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/factory.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"工厂编码：\",\"prop\":\"factoryCode\"}},[_c('el-input',{attrs:{\"name\":\"factoryCode\",\"type\":\"text\",\"placeholder\":\"工厂编码\"},model:{value:(_vm.ruleForm.factoryCode),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"factoryCode\", $$v)},expression:\"ruleForm.factoryCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"工厂名称：\",\"prop\":\"factoryName\"}},[_c('el-input',{attrs:{\"name\":\"factoryName\",\"type\":\"text\",\"placeholder\":\"工厂名称\"},model:{value:(_vm.ruleForm.factoryName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"factoryName\", $$v)},expression:\"ruleForm.factoryName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"工厂厂长：\",\"prop\":\"factoryOwner\"}},[_c('el-input',{attrs:{\"name\":\"factoryOwner\",\"type\":\"text\",\"placeholder\":\"工厂厂长\"},model:{value:(_vm.ruleForm.factoryOwner),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"factoryOwner\", $$v)},expression:\"ruleForm.factoryOwner\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"工厂地址：\",\"prop\":\"factoryAddress\"}},[_c('el-input',{attrs:{\"name\":\"factoryAddress\",\"type\":\"text\",\"placeholder\":\"工厂地址\"},model:{value:(_vm.ruleForm.factoryAddress),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"factoryAddress\", $$v)},expression:\"ruleForm.factoryAddress\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"感官指标：\",\"prop\":\"sensoryIndex\"}},[_c('el-input',{attrs:{\"name\":\"sensoryIndex\",\"type\":\"text\",\"placeholder\":\"感官指标\"},model:{value:(_vm.ruleForm.sensoryIndex),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"sensoryIndex\", $$v)},expression:\"ruleForm.sensoryIndex\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"管理体系认证：\",\"prop\":\"manageSysAuth\"}},[_c('el-input',{attrs:{\"name\":\"manageSysAuth\",\"type\":\"text\",\"placeholder\":\"管理体系认证\"},model:{value:(_vm.ruleForm.manageSysAuth),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"manageSysAuth\", $$v)},expression:\"ruleForm.manageSysAuth\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"图片文件：\",\"prop\":\"file\"}},[_c('input',{ref:\"imgFile\",attrs:{\"type\":\"file\",\"id\":\"imgFile\"},on:{\"change\":_vm.changeHandle}})]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"坐标：\"}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"X轴：\"}},[_c('el-input',{attrs:{\"name\":\"xAxis\",\"type\":\"number\",\"placeholder\":\"X轴\"},model:{value:(_vm.ruleForm.xAxis),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"xAxis\", $$v)},expression:\"ruleForm.xAxis\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6,\"offset\":2}},[_c('el-form-item',{attrs:{\"label\":\"Y轴：\"}},[_c('el-input',{attrs:{\"name\":\"yAxis\",\"type\":\"number\",\"placeholder\":\"Y轴\"},model:{value:(_vm.ruleForm.yAxis),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"yAxis\", $$v)},expression:\"ruleForm.yAxis\"}})],1)],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.onSubmit('ruleForm')}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-d01e762e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/view/factory/add.vue\n// module id = drhg\n// module chunks = 13","var normalizeComponent = require(\"!../../../node_modules/.13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.3@vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.3@vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d01e762e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.3@vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/factory/add.vue\n// module id = xOrV\n// module chunks = 13"],"sourceRoot":""}