webpackJsonp([4],{"8BTR":function(e,t,a){"use strict";function n(e){return Object(s.a)({url:"/manage/securityCode/queryInspectionsByDate",method:"post",data:e})}function i(e){return Object(s.a)({url:"/manage/securityCode/deleteInspection",method:"post",data:e})}t.b=n,t.a=i;var s=a("BXx+")},KQGM:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},on:{change:e.dateChangebirthday},model:{value:e.formData.date,callback:function(t){e.$set(e.formData,"date",t)},expression:"formData.date"}})],1),e._v(" "),a("div",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"http://39.105.203.57:9999/manage/securityCode/uploadInspection",data:e.formData,headers:e.header,"on-success":e.addSuccess,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过10M")])],1)],1),e._v(" "),a("div",{attrs:{id:"brm-images"}},e._l(e.images,function(t,n){return a("div",{key:n,staticClass:"img"},[a("i",{staticClass:"el-icon-delete",on:{click:function(a){e.delImg(t)}}}),e._v(" "),a("img",{attrs:{src:t,alt:""}})])}))])},i=[],s={render:n,staticRenderFns:i};t.a=s},ULos:function(e,t,a){"use strict";var n=a("Hmpo"),i=a.n(n),s=a("vYJH"),r=a.n(s),o=a("8BTR"),c=a("T452"),u=a("Suey"),l=(a.n(u),a("Kf/3"));t.a={data:function(){return{fileList:[],header:{},formData:{date:""},images:[]}},created:function(){this.header={TOKEN:Object(l.a)()},this.getInspectionsByDate()},methods:{delImg:function(e){var t=this;return r()(i.a.mark(function a(){var n,s;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n={path:e},a.next=3,Object(o.a)(n);case 3:if(s=a.sent,s.data.code!==c.b){a.next=7;break}return t.getInspectionsByDate(),a.abrupt("return",!1);case 7:Object(u.Message)(s.data.msg);case 8:case"end":return a.stop()}},a,t)}))()},getInspectionsByDate:function(){var e=this;return r()(i.a.mark(function t(){var a,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.b)(e.formData);case 2:if(a=t.sent,a.data.code!==c.b){t.next=8;break}return n=a.data,e.images=n.images,console.log(e.images),t.abrupt("return",!1);case 8:Object(u.Message)(a.data.msg);case 9:case"end":return t.stop()}},t,e)}))()},dateChangebirthday:function(e){this.getInspectionsByDate()},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},addSuccess:function(e,t,a){var n=this;return"0000"==e.code?(Object(u.Message)("上传成功"),this.getInspectionsByDate(),!1):"0001"==e.code?(u.MessageBox.confirm("你已被登出，可以取消继续留在该页面，或者重新登录","提示",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then(function(){n.$router.push({path:"/login"})}),!1):void Object(u.Message)(e.msg)}}}},Y97G:function(e,t,a){"use strict";function n(e){a("cSz0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ULos"),s=a("KQGM"),r=a("Mz/3"),o=n,c=r(i.a,s.a,!1,o,null,null);t.default=c.exports},cSz0:function(e,t,a){var n=a("snEu");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("bUva")("4dc7f9a3",n,!0,{})},snEu:function(e,t,a){t=e.exports=a("yKCJ")(!0),t.push([e.i,"#brm-images{margin-top:20px}#brm-images .img{float:left;min-width:200px;min-height:150px;margin-right:20px;border:1px solid #ccc;position:relative}#brm-images .img img{width:200px;min-height:150px}#brm-images .img .el-icon-delete{position:absolute;right:-10px;top:-10px}","",{version:3,sources:["/Applications/project/vue-admin/src/view/walmart/add.vue"],names:[],mappings:"AACA,YACE,eAAiB,CAClB,AACD,iBACI,WAAY,AACZ,gBAAiB,AACjB,iBAAkB,AAClB,kBAAmB,AACnB,sBAA0B,AAC1B,iBAAmB,CACtB,AACD,qBACM,YAAa,AACb,gBAAkB,CACvB,AACD,iCACM,kBAAmB,AACnB,YAAa,AACb,SAAW,CAChB",file:"add.vue",sourcesContent:["\n#brm-images {\n  margin-top: 20px;\n}\n#brm-images .img {\n    float: left;\n    min-width: 200px;\n    min-height: 150px;\n    margin-right: 20px;\n    border: solid 1px #cccccc;\n    position: relative;\n}\n#brm-images .img img {\n      width: 200px;\n      min-height: 150px;\n}\n#brm-images .img .el-icon-delete {\n      position: absolute;\n      right: -10px;\n      top: -10px;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=4.05c1a0536918d505e870.js.map